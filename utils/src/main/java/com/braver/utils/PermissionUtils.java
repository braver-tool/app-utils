/* * *  * Created by https://github.com/braver-tool on 16/11/21, 10:30 AM *  * Copyright (c) 2021 . All rights reserved. *  * Last modified 17/11/21, 03:10 PM * */package com.braver.utils;import android.app.Activity;import android.content.Context;import android.content.pm.PackageManager;import androidx.core.app.ActivityCompat;import java.util.ArrayList;import java.util.List;/** * Class for android 6.0 and above live permission handling */public class PermissionUtils {    /**     * Method helps to add a permission into permission list     */    private static void checkPermissionGrant(Context context, ArrayList<String> permissionList, String permission) {        if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {            permissionList.add(permission);        }    }    /**     * Method handling the permissions to getting location details for screen analytics     *     * @param context activity context     * @return boolean variable     */    public static boolean isSpecialPermissionGranted(Context context, List<String> requiredPermissionList) {        boolean status = true;        ArrayList<String> locationPermissionList = new ArrayList<>();        for (int h = 0; h < requiredPermissionList.size(); h++) {            checkPermissionGrant(context, locationPermissionList, requiredPermissionList.get(h));        }        if (locationPermissionList.size() > 0) {            status = false;        }        return status;    }    /**     * Method to display the dialog alert for location permission     *     * @param context activity context     */    public static void showSpecialPermissionRequestDialog(Context context, List<String> requiredPermissionList, int requestCode) {        ArrayList<String> locationPermissionList = new ArrayList<>();        for (int h = 0; h < requiredPermissionList.size(); h++) {            checkPermissionGrant(context, locationPermissionList, requiredPermissionList.get(h));        }        if (locationPermissionList.size() > 0) {            ActivityCompat.requestPermissions((Activity) context, locationPermissionList.toArray(new String[locationPermissionList.size()]), requestCode);        }    }}